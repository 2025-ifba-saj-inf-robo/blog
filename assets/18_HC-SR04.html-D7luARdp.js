import{_ as a,c as n,b as s,a as e,o as t}from"./app-DGjF74QB.js";const o="/blog/assets/sensor-BzJdc9MX.png",l="/blog/assets/echo-Lu5-5pQl.png",r="/blog/assets/diagrama--4E8iCWd.png",h="/blog/assets/circuito-BqSGzHiH.png",p="/blog/assets/bloco-TdOjpU86.png",d="/blog/assets/serial-DvONQzKc.png",c={};function k(g,i){return t(),n("div",null,i[0]||(i[0]=[s('<h1 id="como-conectar-o-sensor-ultrassonico-hc-sr04-ao-arduino" tabindex="-1"><a class="header-anchor" href="#como-conectar-o-sensor-ultrassonico-hc-sr04-ao-arduino"><span>Como conectar o Sensor Ultrassônico HC-SR04 ao Arduino</span></a></h1><p><sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><p>O Sensor Ultrassônico HC-SR04 é um componente muito comum em projetos com Arduino, e permite que você faça leituras de distâncias entre 2 cm e 4 metros, com precisão de 3 mm. Pode ser utilizado simplesmente para medir a distância entre o sensor e um objeto, como para acionar portas do microcontrolador, desviar um robô de obstáculos, acionar alarmes, etc. Neste tutorial ensinaremos a conectar o HC-SR04 ao Arduino.</p><figure><img src="'+o+'" alt="Conexão sensor ultrassônico HC-SR04 ao Arduino" tabindex="0" loading="lazy"><figcaption>Conexão sensor ultrassônico HC-SR04 ao Arduino</figcaption></figure><p>O funcionamento do HC-SR04 (<a href="https://www.makerhero.com/img/files/download/Datasheet_HCSR04.pdf" target="_blank" rel="noopener noreferrer">datasheet</a>) se baseia no envio de sinais ultrassônicos pelo sensor, que aguarda o retorno (echo) do sinal, e com base no tempo entre envio e retorno, calcula a distância entre o sensor e o objeto detectado.<br><img src="'+l+'" alt="HC-SR04 - Trigger e Echo" loading="lazy"></p><p>Primeiramente é enviado um pulso de 10µs, indicando o início da transmissão de dados. Depois disso, são enviado 8 pulsos de 40 KHz e o sensor então aguarda o retorno (em nível alto/high), para determinar a distância entre o sensor e o objeto, utilizando a equação <code>Distância = (Tempo echo em nível alto * velocidade do som) /2</code></p><figure><img src="'+r+'" alt="Diagrama de tempo HC-SR04" tabindex="0" loading="lazy"><figcaption>Diagrama de tempo HC-SR04</figcaption></figure><h2 id="conectando-o-sensor-hc-sr04-ao-arduino" tabindex="-1"><a class="header-anchor" href="#conectando-o-sensor-hc-sr04-ao-arduino"><span>Conectando o Sensor HC-SR04 ao Arduino</span></a></h2><p>A ligação do sensor ao Arduino no nosso programa vai utilizar, além dos pinos de alimentação, os pinos digitais 4 para o Trigger, e 5 para o Echo. A alimentação será feita pelo pino 5V do Arduino:</p><figure><img src="'+h+`" alt="Circuito Arduino e HC-SR04" tabindex="0" loading="lazy"><figcaption>Circuito Arduino e HC-SR04</figcaption></figure><p>código adaptado de <sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup></p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// C++ code</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">long</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> readUltrasonicDistance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> triggerPin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> echoPin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  pinMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(triggerPin, OUTPUT);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Clear the trigger</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  digitalWrite</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(triggerPin, LOW);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  delayMicroseconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Sets the trigger pin to HIGH state for 10 microseconds</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  digitalWrite</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(triggerPin, HIGH);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  delayMicroseconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  digitalWrite</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(triggerPin, LOW);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  pinMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(echoPin, INPUT);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Reads the echo pin, and returns the sound wave travel time in microseconds</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> pulseIn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(echoPin, HIGH);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  Serial</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9600</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  Serial</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Iniciando Sensor&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  Serial</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Distance: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  Serial</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.01723</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> readUltrasonicDistance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  delay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // Delay a little bit to improve simulation performance</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Bloco</p><figure><img src="`+p+'" alt="Bloco de código" tabindex="0" loading="lazy"><figcaption>Bloco de código</figcaption></figure><p>No programa todo o cálculo é feito por meio da biblioteca Ultrasonic. O sensor é inicializado nos pinos trigger e echo, e depois efetuamos a leitura dos dados do sensor, atribuindo às variáveis cmMsec e inMsec os valores das distâncias em centímetros e polegadas, respectivamente. Os dados são mostrados no serial monitor:</p><figure><img src="'+d+'" alt="Serial Monitor HC-SR04" tabindex="0" loading="lazy"><figcaption>Serial Monitor HC-SR04</figcaption></figure>',16),e("iframe",{width:"725",height:"453",src:"https://www.tinkercad.com/embed/63VWQDvTt6H?editbtn=1",frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no"},null,-1),s('<h2 id="exercicio" tabindex="-1"><a class="header-anchor" href="#exercicio"><span>Exercício</span></a></h2><p>Fazer o projeto do Tinkercad no Arduino e acender o led interno do arduino caso a distancia seja menor que 15cm.</p><h2 id="referencias" tabindex="-1"><a class="header-anchor" href="#referencias"><span>Referências</span></a></h2><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><a href="https://www.makerhero.com/blog/sensor-ultrassonico-hc-sr04-ao-arduino/" target="_blank" rel="noopener noreferrer">https://www.makerhero.com/blog/sensor-ultrassonico-hc-sr04-ao-arduino/</a> <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li><li id="footnote2" class="footnote-item"><p><a href="https://projecthub.arduino.cc/Isaac100/getting-started-with-the-hc-sr04-ultrasonic-sensor-7cabe1" target="_blank" rel="noopener noreferrer">https://projecthub.arduino.cc/Isaac100/getting-started-with-the-hc-sr04-ultrasonic-sensor-7cabe1</a> <a href="#footnote-ref2" class="footnote-backref">↩︎</a></p></li></ol></section>',5)]))}const m=a(c,[["render",k]]),u=JSON.parse('{"path":"/posts/18_HC-SR04.html","title":"Como conectar o Sensor Ultrassônico HC-SR04 ao Arduino","lang":"pt-BR","frontmatter":{"icon":"pen-to-square","date":"2025-08-07T17:00:00.000Z","category":["aula","prática","exercicio","entrega"],"order":17},"git":{"createdTime":1754591844000,"updatedTime":1754591844000,"contributors":[{"name":"Leandro Souza","username":"","email":"leandro.costa@ifba.edu.br","commits":1}]},"readingTime":{"minutes":1.62,"words":487},"filePathRelative":"posts/18_HC-SR04.md","localizedDate":"7 de agosto de 2025"}');export{m as comp,u as data};
